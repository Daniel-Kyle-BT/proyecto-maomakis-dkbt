<ng-container *ngIf="clientes$ | async as clientes; else cargando">
  <table class="cliente-table">
    <thead>
      <tr>
        <th>ID</th>
        <th>Código</th>
        <th>Nombre</th>
        <th>Apellido</th>
        <th>Teléfono</th>
        <th>Fecha Registro</th>
        <th>Estado</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let cliente of clientes; trackBy: trackById">
        <td>{{ cliente.id }}</td>
        <td>{{ cliente.codigo }}</td>
        <td>{{ cliente.nombre }}</td>
        <td>{{ cliente.apellido }}</td>
        <td>{{ cliente.telefono || '-' }}</td>
        <td>{{ cliente.fechaRegistro | date:'short' }}</td>
        <td>
          <span [ngClass]="{'activo': cliente.estado, 'inactivo': !cliente.estado}">
            {{ cliente.estado ? 'Activo' : 'Inactivo' }}
          </span>
        </td>
        <td class="td-acciones">
          <div class="acciones">
            <button class="btn-accion btn-editar" (click)="editarCliente.emit(cliente)">Editar</button>
            <button class="btn-accion btn-eliminar" (click)="eliminarCliente.emit(cliente)">Eliminar</button>
          </div>
        </td>
      </tr>
      <tr *ngIf="!clientes.length">
        <td colspan="8">No hay clientes para mostrar.</td>
      </tr>
    </tbody>
  </table>
</ng-container>
<ng-template #cargando>
  <div class="loader">Cargando clientes…</div>
</ng-template>
